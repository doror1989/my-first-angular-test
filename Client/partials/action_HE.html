<div class="selectStock">
	<select ng-change="changeStock()"
			class="col-md-offset-10 col-xs-offset-10 action"
			ng-model="selectedStock"
			ng-options="stock as stock.Symbol for stock in stockArray">
		<option value="" selected style="display:none;">בחר מניה</option>
	</select>
</div>

<div class="container conatinerAction">
	<div class="inputFromSrcHeadLine">
		<div>
			<div class="col-sm-2 col-xs-6">
				<p>כמות היצע</p>
				<input name = "AskQty" type="text" readonly ng-model="selectedStock.AskQty" id = "AskQty">
			</div>
		</div>
		<div>
			<div class="col-sm-2 col-xs-6">
				<p>כמות ביקוש</p>
				<input name = "BidQty" type="text" readonly ng-model="selectedStock.BidQty" id = "BidQty">
			</div>
		</div>
		<div>
			<div class="col-sm-2 col-xs-6">
				<p>מחיר היצע</p>
				<input name = "Ask" type = "text" readonly ng-model="selectedStock.Ask" id = "Ask">
			</div>
		</div>
		<div>
			<div class="col-sm-2 col-xs-6">
				<p>מחיר ביקוש</p>
				<input name = "Bid" type = "text" readonly ng-model="selectedStock.Bid" id = "Bid">
			</div>
		</div>
		<div>
			<div class="col-sm-2 col-xs-6">
				<p style="margin-right:5px">%-שינוי ב</p>
				<input name = "change" type = "text" readonly ng-model="selectedStock.PctChg" id = "change"
					         ng-class="{redBG: color.isRed, greenBG: color.isGreen}">
			</div>
		</div>
		<div>
			<div class="col-sm-2 col-xs-6">
				<p style="margin-right:5px">מחיר אחרון</p>
				<input name = "laste_price" type = "text" readonly ng-model="selectedStock.LastPrice" id = "laste_price">
			</div>
		</div>
	</div>

	<form class="inputFromUserForm" ng-submit="submitNewTansaction()">
		<div>
			<div class= "col-sm-2 col-xs-6 hidden-xs">
				<input type="submit" value="בצע" class="btn btn-lg btn-warning">
			</div>
		</div>
		<div>
			<div class= "col-sm-2 col-xs-6 Target">
				<p>יעד</p>
				<select ng-model = "desiredTrgt" required>
					<option value="" selected style="display:none">בחר יעד</option>
					<option>קרוס</option>
					<option>דרק פול</option>
				</select>
			</div>
		</div>
		<div>
			<div class= "col-sm-2 col-xs-6 Strategy">
				<p>אסטרטגיה</p>
				<select ng-model = "desiredStrat"required>
					<option value="" selected style="display:none">בחר אסטרטגיה</option>
					<option>אגרסיבי</option>
					<option>פסיבי</option>
				</select>
			</div>
		</div>
		<div>
			<div class= "col-sm-2 col-xs-6 Limit">
				<p>לימיט</p>
				<select ng-change="updateLimitSelect()"
				ng-model="desiredLimitObj"
				ng-options="option as option.label for option in optionArray" required>
					<option value="" selected style="display:none">בחר לימיט</option>
				</select>
				<input type="text" class="OtherTextLimit" ng-show="other" ng-model="desiredOtherLimit">
			</div>
		</div>
		<div>
			<div class= "col-sm-2 col-xs-6 Quantity">
				<p>כמות</p>
				<input type="text" ng-model="desiredQty" required>
			</div>
		</div>
		<div>
			<div class= "col-sm-2 col-xs-6 Action">
				<p>פעולה</p>
				<select ng-model = "desiredAction" required>
					<option value="" selected style="display:none">בחר פעולה</option>
					<option>קניה</option>
					<option>מכירה</option>
				</select>
			</div>
		</div>
		<div>
			<div class= "col-sm-2 col-xs-6 hidden-sm hidden-md hidden-lg">
				<input type="submit" value="בצע" class="btn btn-lg btn-warning">
			</div>
		</div>
	</form>
</div>

<div class="table-responsive">
    <table class="table tableBoot" ng-table="">
        <thead>
        <tr>
		    <th></th>
            <th></th>
            <th>מחיר ביצוע</th>
            <th>כמות ביצוע</th>
            <th>סטטוס</th>
            <th>יעד</th>
            <th>אסטרטגיה</th>
            <th>לימיט</th>
            <th>כמות</th>
            <th>פעולה</th>
            <th>מניה</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="transaction in transactions">
            <td>
                <button class="btn btn-md btn-default"
                        ng-click="abort($index)">
                    ביטול
                </button>
            </td>
            <td>
                <button class="btn btn-md btn-default"
                        ng-click="update($index)" ng-hide="editingData[$index]">
                    עדכון
                </button>
				<a ng-show="editingData[$index]" ng-click="AcceptUpdate($index)"><img src="images/AcceptBtn.png"></a>
				<a ng-show="editingData[$index]" ng-click="AbortUpdate($index)"><img src="images/AbortBtn.png"></a>
            </td>
            <td>{{transaction.delivered_price}}</td>
            <td>{{transaction.delivered_quantity}}</td>
            <td>{{transaction.status}}</td>
            <td>
                <div ng-hide="editingData[$index]">{{transaction.target}}</div>
                <div ng-show="editingData[$index]"><input type="text" ng-model="transaction.target" /></div>
            </td>
			<td>
                <div ng-hide="editingData[$index]">{{transaction.strategy}}</div>
                <div ng-show="editingData[$index]"><input type="text" ng-model="transaction.strategy" /></div>
            </td>
			<td>
                <div ng-hide="editingData[$index]">{{transaction.limit}}</div>
                <div ng-show="editingData[$index]"><input type="text" ng-model="transaction.limit" /></div>
            </td>
			<td>
                <div ng-hide="editingData[$index]">{{transaction.quantity}}</div>
                <div ng-show="editingData[$index]"><input type="text" ng-model="transaction.quantity" /></div>
            </td>
			<td>{{transaction.action}}</td>
			<td>{{transaction.name}}</td>
        </tr>
        </tbody>
    </table>
</div>
